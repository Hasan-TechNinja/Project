{% extends "base.html" %}
{% block title %}Blog Details{% endblock title %}
{% block content %}

<div class="container mx-auto my-12 px-4">
    <!-- Back to Blog Button -->
    <div class="mb-6">
        <a href="/blog" class="text-blue-500 hover:underline">&larr; Back to Blog</a>
    </div>

        <!-- Blog Video Embed -->
        {% if blog.video_embed %}
        <div class="my-12 bg-white p-6 rounded-lg shadow-lg">
            <h3 class="text-3xl font-bold text-center mb-4">{{ blog.title }}</h3>
            <div class="relative overflow-hidden" style="padding-bottom: 56.25%;"> <!-- 16:9 aspect ratio -->
                <iframe class="absolute top-0 left-0 w-full h-full rounded-lg shadow-lg" 
                        src="{{ blog.video_embed }}?rel=0&autoplay=1&mute=1" 
                        title="{{ blog.title }} Video"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen>
                </iframe>
            </div>
            <p class="mt-4 text-center text-gray-600">
                Watch the video to learn more!
            </p>
        </div>
        {% endif %}

    <!-- Blog Title & Metadata -->
    <div class="mb-8 text-center">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">{{ blog.title }}</h1>
        <p class="text-gray-500">Published on <span class="font-semibold">{{ blog.publish_date }}</span> | by <span class="font-semibold">{{ blog.author.username }}</span> | <span class="font-semibold">Views: {{ blog.views }}</span></p>
    </div>
        
    <!-- Blog Cover Image -->
    <div class="mb-8">
        <img src="{{ blog.featured_image.url }}" alt="Blog Cover" class="w-full h-auto rounded-lg shadow-md">
    </div>

    <!-- Blog Content -->
    <div class="prose prose-lg max-w-none text-gray-700 leading-relaxed mb-12">
        <p class='text-sm md:text-lg'>{{ blog.content|striptags }}</p>

        <h2>Section Heading</h2>
        <p>Nam tristique, libero id bibendum viverra, orci dui sodales sapien, vel euismod nisi est sit amet sapien. Quisque vehicula tincidunt justo at suscipit. Aenean commodo ultrices imperdiet. Aenean eget ligula ut velit vehicula vestibulum vitae ac lacus.</p>

        <blockquote class="border-l-4 border-blue-500 pl-4 italic text-gray-600">
            "This is an important quote or statement related to the blog content, emphasizing a key point for readers."
        </blockquote>

        <p>Vivamus vehicula dapibus turpis, id feugiat eros viverra et. Cras non erat vitae diam egestas tincidunt. Curabitur luctus luctus nisi sit amet malesuada. Maecenas at erat euismod, gravida felis a, pharetra arcu. Pellentesque vel est a justo viverra euismod.</p>

        <h3>Subsection Heading</h3>
        <ul>
            <li>Key point or list item 1</li>
            <li>Key point or list item 2</li>
            <li>Key point or list item 3</li>
        </ul>

        <p>Donec mattis consequat justo, non ultricies erat sagittis eget. Etiam facilisis erat eget felis luctus tristique. Nullam semper quam sed dolor euismod, et elementum lorem facilisis. Ut venenatis magna in luctus aliquet.</p>

        <p>Aliquam vehicula consequat lacus, non faucibus felis laoreet a. Ut vel sem ex. Curabitur at gravida sapien. Integer ultrices pulvinar ex, at pharetra odio convallis a. Nunc ut risus finibus, iaculis orci ut, vestibulum felis.</p>
    </div>

    <!-- Author Info -->
    <div class="bg-gray-100 p-6 rounded-lg shadow-md mb-12 flex items-center">
        <i class="fas fa-user text-blue-500 text-3xl mr-4"></i> 
        <div class="ml-4">
            <h4 class="text-lg font-semibold text-gray-800">{{ blog.author.username }}</h4>
            <p class="text-gray-600">A brief bio about the author, providing readers with some background on the writer of the blog.</p>
        </div>
    </div>

    <!-- Related Posts Section -->
    <div>
        <h3 class="text-2xl font-bold text-gray-800 mb-6">Related Posts</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for post in suggest %}
            <div class="bg-white shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300">
                <a href="{% url 'blogdetails' post.id %}">
                    <img src="{{ post.featured_image.url }}" alt="Related Post 1" class="w-full h-48 object-cover">
                </a>
                <div class="p-6">
                    <span class="bg-blue-100 text-blue-500 text-sm px-3 py-1 rounded">{{ post.category }}</span>
                    <h2 class="text-2xl font-semibold text-gray-800 mt-4 hover:text-blue-600 transition">
                        {{ post.title }}
                    </h2>
                    <p class="mt-2 text-gray-600">{{ post.content | truncatechars:200 | safe }}.</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock content %}
